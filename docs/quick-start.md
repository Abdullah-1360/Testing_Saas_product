# WP-AutoHealer Quick Start Guide

Get WP-AutoHealer up and running in 15 minutes with this step-by-step guide.

## ðŸš€ Prerequisites

Before starting, ensure you have:

- **Linux server** (Ubuntu 20.04+ recommended)
- **Docker** and **Docker Compose** installed
- **Domain name** pointing to your server
- **SSH access** to target WordPress servers
- **4GB RAM** minimum (8GB recommended)
- **50GB storage** minimum (SSD recommended)

## âš¡ Quick Installation

### Step 1: Download WP-AutoHealer

```bash
# Clone the repository
git clone https://github.com/wp-autohealer/wp-autohealer.git
cd wp-autohealer

# Or download and extract the release
wget https://github.com/wp-autohealer/wp-autohealer/releases/latest/download/wp-autohealer.tar.gz
tar -xzf wp-autohealer.tar.gz
cd wp-autohealer
```

### Step 2: Configure Environment

```bash
# Copy environment template
cp .env.example .env

# Generate secure secrets
./scripts/generate-secrets.sh

# Edit configuration
nano .env
```

**Minimum required changes in `.env`:**

```bash
# Change these values!
FRONTEND_URL=https://your-domain.com
API_URL=https://your-domain.com/api

# Database credentials (change passwords!)
POSTGRES_PASSWORD=your_secure_database_password
REDIS_PASSWORD=your_secure_redis_password

# Security keys (generated by script above)
JWT_SECRET=your_generated_jwt_secret
ENCRYPTION_KEY=your_generated_encryption_key
SESSION_SECRET=your_generated_session_secret
```

### Step 3: Deploy with Docker

```bash
# Start all services
docker-compose up -d

# Check service status
docker-compose ps

# View logs (optional)
docker-compose logs -f
```

### Step 4: Initialize Database

```bash
# Run database migrations
docker-compose exec api npm run prisma:migrate:deploy

# Create initial admin user
docker-compose exec api npm run create-admin

# Follow prompts to set admin email and password
```

### Step 5: Configure SSL (Production)

```bash
# Install Certbot
sudo apt install certbot python3-certbot-nginx -y

# Get SSL certificate
sudo certbot --nginx -d your-domain.com

# Test automatic renewal
sudo certbot renew --dry-run
```

### Step 6: Access Control Panel

1. Open your browser and go to `https://your-domain.com`
2. Log in with your admin credentials
3. Complete MFA setup when prompted
4. You'll see the WP-AutoHealer dashboard

## ðŸ”§ Initial Configuration

### Add Your First Server

1. Navigate to **Servers** â†’ **Add Server**
2. Fill in server details:
   - **Name**: `My WordPress Server`
   - **Hostname**: `192.168.1.100` (your server IP)
   - **Username**: `root` (or your SSH user)
   - **Authentication**: Choose SSH Key or Password
3. Upload SSH key or enter password
4. Click **Test Connection**
5. Save server configuration

### Add Your First Site

1. Navigate to **Sites** â†’ **Add Site**
2. Select your server from dropdown
3. Fill in site details:
   - **Domain**: `example.com`
   - **Document Root**: `/var/www/html`
   - **WordPress Path**: `/var/www/html`
   - **Site URL**: `https://example.com`
4. Click **Test Health Check**
5. Save site configuration

### Configure Basic Settings

1. Go to **Settings** â†’ **System Configuration**
2. Review and adjust:
   - **Max Fix Attempts**: 15 (default)
   - **Cooldown Window**: 10 minutes
   - **SSH Timeout**: 30 seconds
3. Go to **Settings** â†’ **Data Retention**
4. Set retention period (3 days default)
5. Save settings

## ðŸ§ª Test Your Setup

### Manual Health Check

1. Go to **Sites** page
2. Click **Actions** â†’ **Manual Health Check** for your site
3. Verify the site shows as "Healthy"

### Create Test Incident

1. Go to **Sites** page
2. Click **Actions** â†’ **Trigger Incident**
3. Select **General Health Check**
4. Set priority to **Medium**
5. Click **Create Incident**
6. Navigate to **Incidents** to watch progress

### Verify Incident Processing

1. Go to **Incidents** page
2. Click on your test incident
3. Review the **Timeline** tab
4. Check **Commands** tab for SSH execution logs
5. Verify incident completes successfully

## ðŸ“Š Monitor Your System

### Dashboard Overview

The dashboard shows:
- **Active Sites**: Number of monitored WordPress sites
- **Active Incidents**: Currently processing incidents  
- **Fixed This Week**: Successfully resolved incidents
- **Success Rate**: Overall system effectiveness

### Real-time Updates

- Incident status updates automatically
- Dashboard metrics refresh every 30 seconds
- Browser notifications for critical incidents

### Health Monitoring

Check system health at: `https://your-domain.com/api/health`

Expected response:
```json
{
  "success": true,
  "data": {
    "status": "healthy",
    "version": "1.0.0",
    "services": {
      "database": "healthy",
      "redis": "healthy",
      "jobQueue": "healthy"
    }
  }
}
```

## ðŸ”’ Security Checklist

### Essential Security Steps

- [ ] **Change default passwords** in `.env` file
- [ ] **Enable MFA** for all admin users
- [ ] **Configure firewall** to restrict access
- [ ] **Set up SSL certificates** for HTTPS
- [ ] **Use SSH keys** instead of passwords
- [ ] **Restrict SSH access** to specific IPs
- [ ] **Enable audit logging** (enabled by default)
- [ ] **Configure backup strategy**

### Firewall Configuration

```bash
# Basic firewall setup
sudo ufw allow ssh
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw --force enable
```

### SSH Key Setup

```bash
# Generate SSH key pair
ssh-keygen -t rsa -b 4096 -C "wp-autohealer@your-domain.com"

# Copy public key to target servers
ssh-copy-id -i ~/.ssh/id_rsa.pub user@target-server

# Test key authentication
ssh -i ~/.ssh/id_rsa user@target-server
```

## ðŸš¨ Troubleshooting

### Common Issues

#### Services Won't Start
```bash
# Check service logs
docker-compose logs api
docker-compose logs postgres
docker-compose logs redis

# Restart services
docker-compose restart
```

#### Cannot Connect to Database
```bash
# Check database status
docker-compose exec postgres pg_isready

# Reset database password
docker-compose down
docker volume rm wp-autohealer_postgres_data
docker-compose up -d
```

#### SSH Connection Fails
```bash
# Test SSH manually
ssh -i /path/to/key user@server-ip

# Check SSH service on target
sudo systemctl status ssh

# Verify firewall settings
sudo ufw status
```

#### Control Panel Not Loading
```bash
# Check frontend logs
docker-compose logs frontend

# Verify API connectivity
curl -f http://localhost:3001/health

# Check Nginx configuration
docker-compose logs nginx
```

### Getting Help

If you encounter issues:

1. **Check logs**: `docker-compose logs [service-name]`
2. **Review documentation**: [Full Documentation](./README.md)
3. **Search issues**: [GitHub Issues](https://github.com/wp-autohealer/wp-autohealer/issues)
4. **Contact support**: support@wp-autohealer.com

## ðŸ“ˆ Next Steps

### Expand Your Setup

1. **Add more servers and sites**
2. **Configure monitoring integrations**
3. **Set up email notifications**
4. **Create additional user accounts**
5. **Configure backup strategies**

### Advanced Configuration

- [Complete Deployment Guide](./deployment/README.md)
- [Configuration Reference](./configuration/README.md)
- [API Documentation](./api/README.md)
- [Troubleshooting Guide](./troubleshooting/README.md)

### Production Readiness

- [ ] **Set up monitoring** (Prometheus/Grafana)
- [ ] **Configure log aggregation**
- [ ] **Implement backup strategy**
- [ ] **Set up alerting**
- [ ] **Performance tuning**
- [ ] **Security hardening**

## ðŸŽ¯ Success Criteria

You've successfully set up WP-AutoHealer when:

- âœ… Control panel loads at your domain
- âœ… You can log in with admin credentials
- âœ… Servers connect successfully via SSH
- âœ… Sites show healthy status
- âœ… Test incidents process correctly
- âœ… Dashboard shows real-time metrics
- âœ… SSL certificate is working
- âœ… All services are running

**Congratulations!** ðŸŽ‰ Your WP-AutoHealer system is now ready to automatically monitor and heal your WordPress sites.

---

## ðŸ“ž Support

- **Documentation**: [docs.wp-autohealer.com](https://docs.wp-autohealer.com)
- **Community**: [community.wp-autohealer.com](https://community.wp-autohealer.com)
- **Support**: support@wp-autohealer.com
- **Emergency**: emergency@wp-autohealer.com

---

*This quick start guide gets you running fast. For production deployments, please review the complete documentation.*

*Last updated: January 2024*