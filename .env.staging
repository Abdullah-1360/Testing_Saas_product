# Staging Environment Configuration for WP-AutoHealer
# This environment mirrors production but with relaxed security for testing

# Application Configuration
NODE_ENV=staging
API_VERSION=v1

# Server Ports
BACKEND_PORT=3000
FRONTEND_PORT=3001
HTTP_PORT=80
HTTPS_PORT=443
PROMETHEUS_PORT=9090

# Database Configuration
POSTGRES_DB=wp_autohealer_staging
POSTGRES_USER=wp_autohealer_staging
POSTGRES_PASSWORD=staging_secure_password_2024
POSTGRES_PORT=5432
DATABASE_POOL_SIZE=10

# Redis Configuration
REDIS_PASSWORD=staging_redis_password_2024
REDIS_MASTER_PORT=6379
REDIS_REPLICA_PORT=6380

# Security Configuration (Staging keys - not for production)
JWT_SECRET=staging-jwt-secret-64-characters-long-for-testing-purposes-only
SESSION_SECRET=staging-session-secret-64-characters-long-for-testing-only
ENCRYPTION_KEY=staging-32-byte-encryption-key-test
WEBHOOK_SECRET=staging-webhook-secret-for-testing

# Rate Limiting (More permissive for testing)
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=200

# Logging Configuration (More verbose for debugging)
LOG_LEVEL=debug
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/app/logs/wp-autohealer.log
LOG_MAX_FILES=7
LOG_MAX_SIZE=20m

# Retention Policy Configuration
DEFAULT_RETENTION_DAYS=1
MAX_RETENTION_DAYS=3

# Job Processing Configuration
MAX_FIX_ATTEMPTS=10
INCIDENT_COOLDOWN_WINDOW=300
CIRCUIT_BREAKER_THRESHOLD=3
CIRCUIT_BREAKER_TIMEOUT=180000

# SSH Configuration
SSH_CONNECTION_TIMEOUT=30000
SSH_COMMAND_TIMEOUT=60000
SSH_MAX_CONNECTIONS=10

# Verification Configuration
VERIFICATION_TIMEOUT=30000
VERIFICATION_RETRY_ATTEMPTS=3

# Frontend Configuration
NEXT_PUBLIC_API_URL=https://staging.your-domain.com/api/v1
NEXT_PUBLIC_APP_NAME=WP-AutoHealer (Staging)
NEXT_PUBLIC_APP_VERSION=1.0.0-staging

# Development Features (Enabled for staging)
ENABLE_SWAGGER=true
ENABLE_BULL_BOARD=true
ENABLE_METRICS=true
METRICS_PORT=9464

# Mock Services for Testing
MOCK_SSH_CONNECTIONS=false
MOCK_EXTERNAL_APIS=false

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3